<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Poverty of Hunger in Malaysia</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!-- Updated Font Awesome to the version used by the feedback form -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div>
     <nav>
       <a onclick="showPage('main-page')">Home</a>
            <a onclick="showPage('overview-page')">Overview</a>
            <a onclick="showPage('causes-page')">Causes</a>
            <a onclick="showPage('solution-page')">Solutions</a>
            <a onclick="showPage('action-page')">Take Action</a>
            <!-- Corrected the link to point to the new page ID -->
            <a onclick="showPage('feedback-page')">Feedback</a>
        </nav>
    </div>
    <!-- Main Page -->
    <div id="main-page" class="page active">
        <div class="main-page">
            <div class="left-side">
                <img src="https://z-cdn-media.chatglm.cn/files/ba1769f4-f2e5-4c60-9657-4832fa6a523d_pasted_image_1763970465559.png?auth_key=1863970479-97d0e2c28abf4332afe92b8ccd278f26-0-ef65cf4f88d81b6c8ca71fccdcea1a1a" alt="An elderly person sitting on the ground next to a wall" class="side-image">
            </div>
            <div class="right-side">
                <h1 class="title">Poverty of Hunger<br>in Malaysia</h1>
                <button class="discover-btn btn-click-effect" onclick="showPage('discover-page')">
                    Discover
                    <i class="material-icons">arrow_forward</i>
                </button>
              <!-- Play Game button (opens dialog) -->
        <div style="margin-top:18px;">
          <button id="playGameBtn" title="Play the educational game" class="discover-btn">â–¶ Play Game</button>
        </div>
            </div>
        </div>
        
    </div>

    <!-- Discover Page -->
    <div id="discover-page" class="page">
     
        <div class="common-page">
            <div class="back-btn-container">
                <button class="back-btn btn-click-effect" onclick="showPage('main-page')">
                    <i class="material-icons">arrow_back</i>
                </button>
            </div>
            
            <div class="discover-container">
                <h1 class="page-title">About Poverty & Hunger</h1>
                
                <div class="nav-buttons">
                    <button class="nav-btn btn-click-effect" onclick="showPage('overview-page')">
                        <i class="material-icons">visibility</i>
                        <h3>Overview</h3>
                        <p>Statistics and current state</p>
                    </button>
                    
                    <button class="nav-btn btn-click-effect" onclick="showPage('causes-page')">
                        <i class="material-icons">help_outline</i>
                        <h3>Causes</h3>
                        <p>Root factors of hunger</p>
                    </button>
                    
                    <button class="nav-btn btn-click-effect" onclick="showPage('solution-page')">
                        <i class="material-icons">lightbulb</i>
                        <h3>Solution</h3>
                        <p>Effective approaches</p>
                    </button>
                    
                    <button class="nav-btn btn-click-effect" onclick="showPage('action-page')">
                        <i class="material-icons">volunteer_activism</i>
                        <h3>Take Action</h3>
                        <p>How you can help</p>
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Overview Page (Interactive Dashboard) -->
    <div id="overview-page" class="page">
        <div class="common-page">
            <div class="back-btn-container">
                <button class="back-btn btn-click-effect" onclick="showPage('discover-page')">
                    <i class="material-icons">arrow_back</i>
                </button>
            </div>
  <!-- Play Game button (opens dialog) -->
        <div style="margin-top:18px;">
          <button id="playGameBtn" title="Play the educational game">â–¶ Play Game</button>
        </div>            
            <div class="content-container">
                <h1 class="page-title">Overview</h1>
                
                <div class="overview-content">
                    <div class="left-panel">
                        <div class="info-card">
                            <div class="info-icon">
                                <i class="material-icons">restaurant</i>
                            </div>
                            <div class="info-content">
                                <h2 id="foodInsecurity">8.2%</h2>
                                <p>of Malaysian households experience food insecurity</p>
                            </div>
                        </div>
                        
                        <div class="info-card">
                            <div class="info-icon">
                                <i class="material-icons">child_care</i>
                            </div>
                            <div class="info-content">
                                <h2 id="childMalnutrition">1 in 4</h2>
                                <p>children in Malaysia face malnutrition</p>
                            </div>
                        </div>
                        
                        <div class="controls-card">
                            <h3>Animation Controls</h3>
                            <div class="controls">
                                <button id="playBtn" class="control-btn">
                                    <i class="material-icons">play_arrow</i>
                                    Play
                                </button>
                                <button id="pauseBtn" class="control-btn">
                                    <i class="material-icons">pause</i>
                                    Pause
                                </button>
                                <button id="resetBtn" class="control-btn">
                                    <i class="material-icons">refresh</i>
                                    Reset
                                </button>
                            </div>
                            <div class="year-display">Year: <span id="currentYear">2020</span></div>
                            <div class="speed-control">
                                <label for="speedSlider">Animation Speed:</label>
                                <input type="range" id="speedSlider" min="500" max="3000" value="1500" step="100">
                                <span id="speedValue">1.5s</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="right-panel">
                        <div class="chart-card">
                            <h3>Poverty Rates by State</h3>
                            <div class="chart-container">
                                <div class="y-axis">
                                    <div class="y-axis-label">30%</div>
                                    <div class="y-axis-label">25%</div>
                                    <div class="y-axis-label">20%</div>
                                    <div class="y-axis-label">15%</div>
                                    <div class="y-axis-label">10%</div>
                                    <div class="y-axis-label">5%</div>
                                    <div class="y-axis-label">0%</div>
                                </div>
                                <div class="bar-chart" id="barChart">
                                    <!-- Bars will be generated by JavaScript -->
                                </div>
                            </div>
                        </div>
                        
                        <div class="key-facts-card">
                            <h3>Key Facts</h3>
                            <div class="facts-grid">
                                <div class="fact-item">
                                    <h4>Highest Poverty Rate</h4>
                                    <p id="highestState">-</p>
                                </div>
                                <div class="fact-item">
                                    <h4>Lowest Poverty Rate</h4>
                                    <p id="lowestState">-</p>
                                </div>
                                <div class="fact-item">
                                    <h4>National Average</h4>
                                    <p id="nationalAverage">-</p>
                                </div>
                                <div class="fact-item">
                                    <h4>Children in Poverty</h4>
                                    <p id="childrenInPoverty">-</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="legend">
                <div class="legend-item">
                    <div class="legend-color" style="background: linear-gradient(to top, #3182ce, #63b3ed);"></div>
                    <span>Estimated Data</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: linear-gradient(to top, #e53e3e, #fc8181);"></div>
                    <span>Official Data</span>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Causes Page -->
    <div id="causes-page" class="page">
        <div class="common-page">
            <div class="back-btn-container">
                <button class="back-btn btn-click-effect" onclick="showPage('discover-page')">
                    <i class="material-icons">arrow_back</i>
                </button>
            </div>
            
            <div class="grid-container">
                <h1 class="page-title">Causes</h1>
                
                <div class="grid">
                    <div class="card">
                        <h3>
                            <i class="material-icons">trending_up</i>
                            Economic Factors
                        </h3>
                        <p>Rising cost of living, stagnant wages, and unequal distribution of wealth contribute to food insecurity. Many households spend over 30% of their income on food alone.</p>
                        <div class="img-frame">
                            <img src="https://sfile.chatglm.cn/images-ppt/c93ab078727f.jpg" alt="Economic factors">
                        </div>
                    </div>
                    
                    <div class="card">
                        <h3>
                            <i class="material-icons">location_on</i>
                            Geographic Disparities
                        </h3>
                        <p>Rural areas, particularly in East Malaysia, have limited access to nutritious food and face higher rates of poverty compared to urban centers.</p>
                        <div class="img-frame">
                            <img src="https://sfile.chatglm.cn/images-ppt/81365740a4e3.jpg" alt="Geographic disparities">
                        </div>
                    </div>
                    
                    <div class="card">
                        <h3>
                            <i class="material-icons">school</i>
                            Education & Employment
                        </h3>
                        <p>Limited access to education and skills training perpetuates the cycle of poverty, making it difficult for individuals to secure stable employment with adequate income.</p>
                        <div class="img-frame">
                            <img src="https://sfile.chatglm.cn/images-ppt/14344b058cfc.jpg" alt="Education and employment">
                        </div>
                    </div>
                    
                    <div class="card">
                        <h3>
                            <i class="material-icons">policy</i>
                            Systemic Issues
                        </h3>
                        <p>Gaps in social safety nets, inadequate food assistance programs, and lack of comprehensive policies addressing food security compound the problem.</p>
                        <div class="img-frame">
                            <img src="https://sfile.chatglm.cn/images-ppt/2900d294f137.jpg" alt="Systemic issues">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Solution Page -->
    <div id="solution-page" class="page">
        <div class="common-page">
            <div class="back-btn-container">
                <button class="back-btn btn-click-effect" onclick="showPage('discover-page')">
                    <i class="material-icons">arrow_back</i>
                </button>
            </div>
            
            <div class="grid-container">
                <h1 class="page-title">Solution</h1>
                
                <div class="grid">
                    <div class="card">
                        <h3>
                            <i class="material-icons">policy</i>
                            Policy Interventions
                        </h3>
                        <p>Implementing comprehensive food security policies, strengthening social safety nets, and increasing minimum wage can provide immediate relief.</p>
                        <div class="img-frame">
                            <img src="https://z-cdn-media.chatglm.cn/files/22ac0bb7-720e-46c1-8eb2-4b137a50e183_pasted_image_1764059393356.png?auth_key=1864059530-368148ebf02042dda403581ca88ee2cd-0-39a46ac453067e71a8c03c7b89fc2eda" alt="Policy interventions in Malaysia">
                        </div>
                    </div>
                    
                    <div class="card">
                        <h3>
                            <i class="material-icons">groups</i>
                            Community Programs
                        </h3>
                        <p>Food banks, community kitchens, and school meal programs can ensure vulnerable populations have access to nutritious food.</p>
                        <div class="img-frame">
                            <img src="https://z-cdn-media.chatglm.cn/files/3e1172ac-ff19-4b30-a203-4066b6f1445c_pasted_image_1764059441592.png?auth_key=1864059530-1ee763d6ff0a443b9ca3fac8c5278750-0-7499ebdf927baefc9b88f4f34593fe4d" alt="Community programs in Malaysia">
                        </div>
                    </div>
                    
                    <div class="card">
                        <h3>
                            <i class="material-icons">work</i>
                            Economic Empowerment
                        </h3>
                        <p>Skills training, job creation initiatives, and support for small businesses can help lift families out of poverty.</p>
                        <div class="img-frame">
                            <img src="https://sfile.chatglm.cn/images-ppt/b26daae2ba20.jpg" alt="Economic empowerment">
                        </div>
                    </div>
                    
                    <div class="card">
                        <h3>
                            <i class="material-icons">handshake</i>
                            Public-Private Partnerships
                        </h3>
                        <p>Collaboration between government, NGOs, and corporate entities can create more comprehensive and sustainable solutions.</p>
                        <div class="img-frame">
                            <img src="https://sfile.chatglm.cn/images-ppt/24dac272bd7b.jpg" alt="Public-private partnerships">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Action Page -->
    <div id="action-page" class="page">
        <div class="common-page">
            <div class="back-btn-container">
                <button class="back-btn btn-click-effect" onclick="showPage('discover-page')">
                    <i class="material-icons">arrow_back</i>
                </button>
            </div>
            
            <div class="grid-container">
                <h1 class="page-title">Take Action</h1>
                
                <div class="grid">
                    <div class="card">
                        <h3>
                            <i class="material-icons">volunteer_activism</i>
                            Volunteer
                        </h3>
                        <p>Dedicate your time to local food banks, community kitchens, or hunger relief organizations.</p>
                        <div class="img-frame">
                            <img src="https://z-cdn-media.chatglm.cn/files/bc5a6217-57f3-44da-ab8d-dbde355d525e_pasted_image_1764059508671.png?auth_key=1864059530-1f26c3cdeca84f8fa8ad613a52a38024-0-68ddc68f9bcd1a3c5c559dcdb5870618" alt="Volunteer in Malaysia">
                        </div>
                    </div>
                    
                    <div class="card">
                        <h3>
                            <i class="material-icons">monetization_on</i>
                            Donate
                        </h3>
                        <p>Support organizations working to alleviate hunger through financial contributions or food donations.</p>
                        <div class="img-frame">
                            <img src="https://z-cdn-media.chatglm.cn/files/d1a6dfd1-92e1-451e-bea9-d2de690e29d3_pasted_image_1764059522721.png?auth_key=1864059530-5ed1d64939db499192dc56c2db6591f4-0-b71e9cb3e16cce2622a653a789e0e2b5" alt="Donate in Malaysia">
                        </div>
                    </div>
                    
                    <div class="card">
                        <h3>
                            <i class="material-icons">campaign</i>
                            Advocate
                        </h3>
                        <p>Raise awareness about food insecurity issues and advocate for policies that address the root causes of hunger.</p>
                        <div class="img-frame">
                            <img src="https://sfile.chatglm.cn/images-ppt/55f1049fdeee.jpg" alt="Advocate">
                        </div>
                    </div>
                    
                    <div class="card">
                        <h3>
                            <i class="material-icons">shopping_cart</i>
                            Support Local
                        </h3>
                        <p>Purchase from local farmers and businesses to strengthen community food systems.</p>
                        <div class="img-frame">
                            <img src="https://sfile.chatglm.cn/images-ppt/8395ccd2e649.jpg" alt="Support local">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ============================================================= -->
    <!-- ===== FEEDBACK PAGE (NEWLY ADDED) ===== -->
    <!-- ============================================================= -->
    <div id="feedback-page" class="page">
        <div class="common-page">
            <div class="back-btn-container">
                <button class="back-btn btn-click-effect" onclick="showPage('discover-page')">
                    <i class="material-icons">arrow_back</i>
                </button>
            </div>
            
            <div class="feedback-container">
                <div class="form-header">
                    <h1>Feedback Form</h1>
                    <p>We value your opinion and would love to hear from you</p>
                </div>
                
                <form id="feedbackForm">
                    <div class="form-group">
                        <label for="name">Your Name:</label>
                        <input type="text" id="name" class="form-control" placeholder="Enter your name" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="email">Email:</label>
                        <input type="email" id="email" class="form-control" placeholder="your.email@example.com" required>
                    </div>
                    
                    <div class="rating-group">
                        <span class="rating-label">Rate your experience:</span>
                        <div class="rating">
                            <input type="radio" id="star5" name="rating" value="5">
                            <label for="star5"></label>
                            <input type="radio" id="star4" name="rating" value="4">
                            <label for="star4"></label>
                            <input type="radio" id="star3" name="rating" value="3">
                            <label for="star3"></label>
                            <input type="radio" id="star2" name="rating" value="2">
                            <label for="star2"></label>
                            <input type="radio" id="star1" name="rating" value="1">
                            <label for="star1"></label>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="feedback">Your Feedback:</label>
                        <textarea id="feedback" class="form-control" placeholder="Share your thoughts with us..." required></textarea>
                    </div>
                    
                    <button type="submit" class="btn-submit">Submit</button>
                </form>
            </div>
        </div>
    </div>

    <!-- ============================================================= -->
    <!-- ===== CHATBOT WIDGET HTML (ADDED) ===== -->
    <!-- ============================================================= -->
    <div id="chat-icon" onclick="toggleChat()">
        <i class="fas fa-comment-dots"></i>
    </div>

    <div id="chat-container" class="hidden">
        <div class="chat-header">
            <h3>ðŸ‡²ðŸ‡¾ Malaysia Hunger Chatbot</h3>
            <button id="close-btn" onclick="toggleChat()">&times;</button>
        </div>
        <div id="chat-window"></div>
        <div class="input-area">
            <input type="text" id="user-input" placeholder="Ask a question..." onkeydown="if(event.key === 'Enter') sendMessage()">
            <button onclick="sendMessage()" id="send-btn">Send</button>
        </div>
    </div>

    <!-- Notification element for the feedback form -->
    <div id="notification" class="notification">
        <i class="fas fa-check-circle"></i> Thank you for your feedback!
    </div>

    <!-- ========================= GAME DIALOG  ========================= -->
  <dialog id="gameDialog" aria-labelledby="gameDialogTitle">
    <div class="game-toolbar">
      <div class="title" id="gameDialogTitle">Poverty of Hunger â€” Mini Game</div>
      <div style="display:flex;gap:8px;align-items:center;">
        <button id="game-openInNew">Open in new tab</button>
        <button id="game-closeBtn">Close âœ•</button>
      </div>
    </div>

    <div id="game-wrapper" role="application" aria-label="Poverty shooter game">
      <div id="game-container">
        <!-- Canvas -->
        <canvas id="game-canvas" width="920" height="640" tabindex="0"></canvas>

        <!-- Score -->
        <div id="game-score">Score: 0</div>

        <!-- Poverty Character & speech bubble -->
        <div id="game-povertyCharacter" aria-hidden="true">
          <div class="character" style="width:56px;height:94px;">
            <!-- simple visual placeholder (kept decorative) -->
            <svg width="56" height="94" viewBox="0 0 56 94" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
              <rect x="10" y="30" width="36" height="40" rx="6" fill="#f4c2a1" stroke="#333"/>
              <circle cx="28" cy="20" r="12" fill="#f4c2a1" stroke="#333"/>
            </svg>
          </div>
          <div class="speech-bubble">
            <p>Fight the Poverty and Hunger enemy! Move the mouse to aim. Click to shoot.</p>
          </div>
        </div>

        <!-- Start overlay -->
        <div id="game-startScreen" role="dialog" aria-modal="true">
          <h1>Poverty of Hunger Shooter</h1>
          <p>Move your mouse to control the shooter. Click to shoot enemies (poverty / hunger).<br/>Press Start when ready.</p>
          <button id="game-startBtn">Start Game</button>
        </div>

        <!-- Game over overlay -->
        <div id="game-gameOver" role="status" aria-live="polite">
          <h2>Game Over</h2>
          <p>Your score: <strong id="game-finalScore">0</strong></p>
          <button id="game-restartBtn">Play Again</button>
        </div>

      </div><!-- /#game-container -->
    </div><!-- /#game-wrapper -->
  </dialog>
    <script src="script.js"></script>
</body>
</html>